(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25d8337a"],{"0597":function(e,a,t){"use strict";t("1d36")},1123:function(e,a,t){},"1d36":function(e,a,t){},"87a8":function(e,a,t){"use strict";var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"my-slider"},[t("div",{staticClass:"my-slider__tooltip",style:e.style},[t("div",{staticClass:"my-slider__tooltip-wrapper",attrs:{size:"mini"}},[e._v(" "+e._s(e.slider)+" ")])]),t("el-slider",{attrs:{"show-tooltip":!1,min:e.min,max:e.max},on:{input:e.input},model:{value:e.slider,callback:function(a){e.slider=a},expression:"slider"}})],1)},l=[],s=(t("a9e3"),{name:"MySlider",model:{prop:"value",event:"change"},props:{value:{type:Number,default:80},min:{type:Number,default:30},max:{type:Number,default:100}},data:function(){return{slider:this.value}},watch:{value:function(e){this.slider=e}},computed:{style:function(){var e=this.max-this.min,a=this.slider-this.min,t=a/e*100;return{paddingLeft:"".concat(t,"%")}}},methods:{input:function(e){this.$emit("change",e)}}}),n=s,r=(t("b493"),t("2877")),c=Object(r["a"])(n,i,l,!1,null,"3c5963fd",null);a["a"]=c.exports},"9ac0":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",{staticClass:"page_container"},[t("div",{staticClass:"areas_content"},[t("h3",{staticClass:"content_header"},[e._v("区域管理")]),t("search-module",{attrs:{type:"areaManage",areaTree:e.areaTree,filtersItem:["area"]},on:{searchData:e.getAreaList}}),t("div",{staticClass:"content"},[t("common-table",{attrs:{isShowIndex:!0,tableColArray:e.tableColumn,currentPage:e.currentPage,pageSize:e.pageSize,tableData:e.tableData},scopedSlots:e._u([{key:"function",fn:function(a){return[e._v(" "+e._s(a.row.functions.join(","))+" ")]}},{key:"type",fn:function(a){return[t("span",[e._v(e._s(e.getAreaType(a.row)))])]}}])})],1),t("div",{staticClass:"pagintion_content"},[t("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.handleCurrentPChange,"size-change":e.handleSizeChange}})],1)],1)])},l=[],s=t("5530"),n=t("c31e"),r=t("b837"),c=t("7f5c"),o={data:function(){return{tableData:[],pageSize:10,total:0,currentPage:1,tableColumn:[{label:"一级区域",props:"area1"},{label:"二级区域",props:"area2"},{label:"三级区域",props:"area3"},{label:"功能",props:"functions",type:"slot",slot:"function"},{label:"进/离",props:"area_type",slot:"type",type:"slot"}],areaTree:[],params:{}}},components:{SearchModule:n["a"],CommonTable:r["a"]},created:function(){this.getAreaTree()},mounted:function(){this.getAreaList()},methods:{handleCurrentPChange:function(e){this.currentPage=e,this.getAreaList()},handleSizeChange:function(e){this.pageSize=e,this.getAreaList()},getAreaList:function(e){var a=this;e&&(this.params=e,this.currentPage=1),Object(c["e"])(Object(s["a"])({page:this.currentPage,page_size:this.pageSize},this.params)).then((function(e){0===e.error_no&&(a.total=e.data.count,a.tableData=e.data.areas)}))},getAreaTree:function(){var e=this;Object(c["f"])().then((function(a){e.areaTree=a.data}))},getAreaType:function(e){var a="";switch(e.area_type){case 1:a="进";break;case 2:a="离";break;case 3:a="进/离";break;default:break}return a}}},m=o,d=(t("9ae1"),t("2877")),h=Object(d["a"])(m,i,l,!1,null,"7ba53df0",null);a["default"]=h.exports},"9ae1":function(e,a,t){"use strict";t("1123")},b493:function(e,a,t){"use strict";t("e8aa")},c31e:function(e,a,t){"use strict";var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"input_search"},[e.filters("time")?t("div",{staticClass:"search_item"},[t("h4",[e._v(" 抓拍时间 ")]),t("el-date-picker",{attrs:{size:"small",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.datetimerange,callback:function(a){e.datetimerange=a},expression:"datetimerange"}})],1):e._e(),e.filters("area")?t("div",{staticClass:"search_item"},[t("h4",[e._v("区域")]),t("el-cascader",{attrs:{placeholder:"所有二级区域","collapse-tags":!0,"show-all-levels":!1,options:e.areaOptions,props:{multiple:!0},size:"small",clearable:!0},model:{value:e.area,callback:function(a){e.area=a},expression:"area"}})],1):e._e(),e.filters("camera")?t("div",{staticClass:"search_item"},[t("h4",[e._v("抓拍相机")]),t("el-select",{attrs:{multiple:"","collapse-tags":"",size:"small"},model:{value:e.camera,callback:function(a){e.camera=a},expression:"camera"}},e._l(e.camerasData,(function(e){return t("el-option",{key:e.id,attrs:{label:e.ip,value:e.id}})})),1)],1):e._e(),e.filters("alarmType")?t("div",{staticClass:"search_item"},[t("h4",[e._v("报警类型")]),t("el-select",{attrs:{clearable:"",size:"small"},model:{value:e.alarmType,callback:function(a){e.alarmType=a},expression:"alarmType"}},e._l(e.alarmTypeOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.label,value:e.id}})})),1)],1):e._e(),e.filters("alarmLevel")?t("div",{staticClass:"search_item"},[t("h4",[e._v("报警级别")]),t("el-select",{attrs:{clearable:"",size:"small"},model:{value:e.alarmLevel,callback:function(a){e.alarmLevel=a},expression:"alarmLevel"}},e._l(e.alarmLevelOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.filters("status")?t("div",{staticClass:"search_item"},[t("h4",[e._v("处置状态")]),t("el-select",{attrs:{size:"small"},model:{value:e.dealType,callback:function(a){e.dealType=a},expression:"dealType"}},e._l(e.dealTypeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.filters("image")?t("div",{staticClass:"search_item"},[t("h4",[e._v("照片")]),t("div",{staticStyle:{height:"110px","text-align":"center"}},[t("img",{staticClass:"image_class",attrs:{src:"data:image/jpg;base64,"+e.image,alt:""}})])]):e._e(),e.filters("similar")?t("div",{staticClass:"search_item"},[t("h4",[e._v("相似度")]),t("my-slider",{model:{value:e.similarity,callback:function(a){e.similarity=a},expression:"similarity"}})],1):e._e(),e.filters("deviceName")?t("div",{staticClass:"search_item"},[t("h4",[e._v("设备名称")]),t("el-input",{attrs:{size:"small",placeholder:"请输入设备名称"},model:{value:e.deviceName,callback:function(a){e.deviceName=a},expression:"deviceName"}})],1):e._e(),e.filters("ip")?t("div",{staticClass:"search_item"},[t("h4",[e._v("IP地址")]),t("el-input",{attrs:{size:"small",placeholder:"请输入IP地址"},model:{value:e.ip,callback:function(a){e.ip=a},expression:"ip"}})],1):e._e(),e.filters("channel")?t("div",{staticClass:"search_item"},[t("h4",[e._v("channel号")]),t("el-input",{attrs:{size:"small",placeholder:"请输入channel号"},model:{value:e.channel,callback:function(a){e.channel=a},expression:"channel"}})],1):e._e(),t("div",{staticClass:"button_styles"},[t("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.submit}},[e._v("查询")]),t("el-button",{attrs:{size:"small"},on:{click:e.reset}},[e._v("重置")])],1)])},l=[],s=t("b85c"),n=(t("0d03"),t("b0c0"),t("c975"),t("4160"),t("d3b7"),t("159b"),t("87a8")),r=[{id:5002,label:"物品遗留"},{id:5003,label:"物品拿取"},{id:5006,label:"人员徘徊"},{id:5005,label:"人员滞留"}],c=[{id:5001,label:"客流密度"},{id:5004,label:"人员倒地"},{id:5007,label:"人员聚集"},{id:5008,label:"剧烈运动/打斗"},{id:5009,label:"排队时长"},{id:5010,label:"客流量报警"}],o={props:{filtersItem:{type:Array,default:function(){return[]}},areaTree:{type:Array,default:function(){return[]}},camerasData:{type:Array,default:function(){return[]}},type:{type:String},image:{type:String,default:""},time:{default:""}},data:function(){return{startTime:new Date((new Date).toLocaleDateString()),endTime:new Date(new Date((new Date).toLocaleDateString()).getTime()+864e5-1),datetimerange:[new Date((new Date).toLocaleDateString()),new Date(new Date((new Date).toLocaleDateString()).getTime()+864e5-1)],areaOptions:[],area:[],camera:[],alarmType:"",dealType:"",dealTypeOptions:[{value:1,label:"已处理"},{value:2,label:"未处理"}],alarmLevel:"",alarmLevelOptions:[{value:1,label:"一级"}],alarmTypeOptions:[],similarity:70,deviceName:"",ip:"",channel:""}},watch:{areaTree:{handler:function(e){this.areaOptions=[];var a,t=Object(s["a"])(e);try{for(t.s();!(a=t.n()).done;){var i=a.value,l={label:i.name,value:i.id};if(i.child&&i.child.length>0){l.children=[];var n,r=Object(s["a"])(i.child);try{for(r.s();!(n=r.n()).done;){var c,o=n.value,m=[],d=Object(s["a"])(o.child);try{for(d.s();!(c=d.n()).done;){var h=c.value;m.push({label:h.name,value:h.id})}}catch(u){d.e(u)}finally{d.f()}l.children.push({label:o.name,value:o.id,children:m.length>0?m:void 0})}}catch(u){r.e(u)}finally{r.f()}}this.areaOptions.push(l)}}catch(u){t.e(u)}finally{t.f()}},immediate:!0},time:{handler:function(e){e&&(this.datetimerange=[new Date(new Date(e).toLocaleDateString()),new Date(new Date(new Date(e).toLocaleDateString()).getTime()+864e5-1)],this.startTime=new Date(new Date(e).toLocaleDateString()),this.endTime=new Date(new Date(new Date(e).toLocaleDateString()).getTime()+864e5-1))},immediate:!0}},components:{MySlider:n["a"]},created:function(){"alarmHistory"===this.type?this.alarmTypeOptions=c:this.alarmTypeOptions=r},methods:{filters:function(e){return!!this.filtersItem&&-1!==this.filtersItem.indexOf(e)},submit:function(){var e={},a=[];this.area.length>0&&this.area.forEach((function(e){a.push(e[e.length-1])})),"areaManage"===this.type&&this.area.length>0&&(e={area_ids:a}),"alarmConfig"===this.type&&this.area.length>0&&(e={area_ids:a}),"alarmHistory"===this.type&&(this.area.length>0&&(e.area_ids=a),this.datetimerange[0]&&(e.start_time=this.datetimerange[0].getTime()),this.datetimerange[1]&&(e.end_time=this.datetimerange[1].getTime()),e.type=0,e.camera_ids=this.camera,e.check_status=this.dealType||void 0,e.alarm_source_types=this.alarmType?[this.alarmType]:void 0),"eventSearch"===this.type&&(this.datetimerange[0]&&(e.start_time=this.datetimerange[0].getTime()),this.datetimerange[1]&&(e.end_time=this.datetimerange[1].getTime()),this.area.length>0&&(e.area_ids=a),e.camera_ids=this.camera,e.alarm_source_types=this.alarmType?[this.alarmType]:void 0),"trackDetail"===this.type&&(this.datetimerange[0]&&(e.start_time=this.datetimerange[0].getTime()),this.datetimerange[1]&&(e.end_time=this.datetimerange[1].getTime()),e.score=this.similarity),"takeTrace"===this.type&&(this.area.length>0&&(e.area_ids=a),this.datetimerange[0]&&(e.start_time=this.datetimerange[0].getTime()),this.datetimerange[1]&&(e.end_time=this.datetimerange[1].getTime())),"deviceManage"===this.type&&(e.name=this.deviceName,e.ip=this.ip,e.channel=this.channel),"resourceManage"===this.type&&(this.area.length>0&&(e.area_ids=a),e.name=this.deviceName,e.ip=this.ip,e.channel=this.channel),this.$emit("searchData",e)},reset:function(){this.area=[],this.alarmType="",this.alarmLevel="",this.dealType="",this.camera=[],this.deviceName="",this.channel="",this.ip="",this.datetimerange=[new Date((new Date).toLocaleDateString()),new Date(new Date((new Date).toLocaleDateString()).getTime()+864e5-1)],this.startTime=new Date((new Date).toLocaleDateString()),this.endTime=new Date(new Date((new Date).toLocaleDateString()).getTime()+864e5-1)}}},m=o,d=(t("0597"),t("2877")),h=Object(d["a"])(m,i,l,!1,null,"3fd3d4d3",null);a["a"]=h.exports},e8aa:function(e,a,t){}}]);