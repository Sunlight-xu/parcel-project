(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-93902c44"],{"0741":function(e,t,i){},"1f85":function(e,t,i){"use strict";i("0741")},"393c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHoAAAAeCAYAAADjPAqoAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAeqADAAQAAAABAAAAHgAAAADKrEfEAAACBklEQVRoBe2aPUvDYBCAL6FgQQV1UCfRRbopKbWJLZJBxC5FLKF10S51sPhV694/5OTk6uIiLv0PgqO2Qu1HztchkJZ8B9MkXJd8vHe9u+eBhqThBLH0CvQJLwEOnt9eHhp+G+T9fgHl/zMBhD0hdyz6rUKi/RIMIJ9T+TtZbiX8lCLRfugFlIuIG92ftuKnHIn2Qy/AXEQ4l+XqgteSJNoruYDzEGD+q9e98FqWRHslN408Do928uVNL6VJtBdq08pB4EfDYdNLeRLthdoUc9hPuJARS/tuWyDRbomFIF7l8KZQuJxx0wqJdkMrJLGI3OrH5/upm3ZItBtaIYrlEM6y2ZMVpy2RaKekQhbH7quTQ35w7bQtEu2UVAjj2BOzg8yusu2kNRLthFKIY1TAZqvVsvVoGxDiGak1RgBVTD0+tYt2MEi0HaEIrLN767osK3NWrZJoKzpRWUNY7PbUmlW7JNqKToTWkIOyKFbWzVom0WZkInae3W4lBjC4NWubRJuRieB5dq3OpfNK3qh1Em1EJcrnRtgweu2IREdZqkHv7CHK2ne/XZlcItGTRGJwPEKoSZKypB+FROtpxGUfYbYPWNePQ6L1NGK0j4DFtFRKaSORaI1E3LYI7J9MuNfGItEaiThuEbYESTn8G41Ex1Hw2EzqFXsfPEmix6DE8ABhudPrVH8B+c1sL+STIdsAAAAASUVORK5CYII="},"406e":function(e,t,i){"use strict";i.d(t,"a",(function(){return _})),i.d(t,"b",(function(){return g}));let a=null;function r(e){return a||(a=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),a(e)}let s=null;function n(e){s||(s=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),s(e)}function o(e){var t=document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function l(e,t={}){let i=document.createElement(e);return Object.keys(t).forEach(e=>{i[e]=t[e]}),i}function c(e,t,i){let a=window.getComputedStyle(e,i||null)||{display:"none"};return a[t]}function h(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};let t=e;while(t!==document){if("none"===c(t,"display"))return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var d='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}';let u=0,m=null;function _(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=p.bind(e));let i=e.__resize_listeners__;if(!i)if(e.__resize_listeners__=[],window.ResizeObserver){let{offsetWidth:t,offsetHeight:i}=e,a=new ResizeObserver(()=>{(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==t||e.offsetHeight!==i))&&b(e)}),{detached:r,rendered:s}=h(e);e.__resize_observer_triggered__=!1===r&&!1===s,e.__resize_observer__=a,a.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){b(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(u||(m=o(d)),y(e),e.__resize_rendered__=h(e).rendered,window.MutationObserver){let t=new MutationObserver(e.__resize_mutation_handler__);t.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=t}e.__resize_listeners__.push(t),u++}function g(e,t){let i=e.__resize_listeners__;if(i){if(t&&i.splice(i.indexOf(t),1),!i.length||!t){if(e.detachEvent&&e.removeEventListener)return e.detachEvent("onresize",e.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",A),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--u&&m&&m.parentNode.removeChild(m)}}function f(e){let{width:t,height:i}=e.__resize_last__,{offsetWidth:a,offsetHeight:r}=e;return a!==t||r!==i?{width:a,height:r}:null}function p(){let{rendered:e,detached:t}=h(this);e!==this.__resize_rendered__&&(!t&&this.__resize_triggers__&&(k(this),this.addEventListener("scroll",A,!0)),this.__resize_rendered__=e,b(this))}function A(){k(this),this.__resize_raf__&&n(this.__resize_raf__),this.__resize_raf__=r(()=>{let e=f(this);e&&(this.__resize_last__=e,b(this))})}function b(e){e&&e.__resize_listeners__&&e.__resize_listeners__.forEach(t=>{t.call(e,e)})}function y(e){let t=c(e,"position");t&&"static"!==t||(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};let i=l("div",{className:"resize-triggers"}),a=l("div",{className:"resize-expand-trigger"}),r=l("div"),s=l("div",{className:"resize-contract-trigger"});a.appendChild(r),i.appendChild(a),i.appendChild(s),e.appendChild(i),e.__resize_triggers__={triggers:i,expand:a,expandChild:r,contract:s},k(e),e.addEventListener("scroll",A,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function k(e){let{expand:t,expandChild:i,contract:a}=e.__resize_triggers__,{scrollWidth:r,scrollHeight:s}=a,{offsetWidth:n,offsetHeight:o,scrollWidth:l,scrollHeight:c}=t;a.scrollLeft=r,a.scrollTop=s,i.style.width=n+1+"px",i.style.height=o+1+"px",t.scrollLeft=l,t.scrollTop=c}},"4e9a":function(e,t,i){"use strict";i("5070")},5070:function(e,t,i){},"5fff":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"main_container"},[i("searchModule",{attrs:{"search-module":!0,type:"alarmHistory","filters-item":[["time","controlArea","alarmLevel","controlType","dealStatus","alarmType","singleImg","similar","top"]],"catch-img":e.catchImg}}),i("div",{staticClass:"table_container"},[i("div",{staticClass:"table_control"},[i("el-radio-group",{model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[i("el-radio-button",{attrs:{label:"抓拍报警"}}),i("el-radio-button",{attrs:{label:"安检报警"}})],1),i("div",{staticClass:"sort_control"},[i("span",{directives:[{name:"show",rawName:"v-show",value:"抓拍报警"==e.radio,expression:"radio == '抓拍报警'"}],staticClass:"sort_control_item"},[e._v(" 相似度 "),i("i",{staticClass:"sort_style"},[i("i",{staticClass:"el-icon-caret-top",style:e.setCheck("score","score"),on:{click:function(t){return e.handleSortChange("score","score")}}}),i("i",{staticClass:"el-icon-caret-bottom",style:e.setCheck("score","score desc"),on:{click:function(t){return e.handleSortChange("score","score desc")}}})])]),i("span",{staticClass:"sort_control_item"},[e._v(" 报警时间 "),i("i",{staticClass:"sort_style"},[i("i",{staticClass:"el-icon-caret-top",style:e.setCheck("alarm_time","alarm_time"),on:{click:function(t){return e.handleSortChange("alarm_time","alarm_time")}}}),i("i",{staticClass:"el-icon-caret-bottom",style:e.setCheck("alarm_time","alarm_time desc"),on:{click:function(t){return e.handleSortChange("alarm_time","alarm_time desc")}}})])]),i("div",[i("el-button",{attrs:{type:"primary"},on:{click:e.exportData}},[e._v(" 导出 ")])],1)])],1),i("div",{ref:"tableContent",staticClass:"table_content"},[i("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:e.tableHeight,"header-cell-style":e.headerCellStyle,"cell-style":e.cellStyle,"row-key":e.rowKey},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"50"}}),i("el-table-column",{key:"index",attrs:{type:"index",label:"序号",index:e.indexMethod,width:"80"}}),i("el-table-column",{key:"detected_image_url",attrs:{prop:"detected_image_url",width:"120",label:"抓拍报警"==e.radio?"抓拍照":"安检照"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("img",{staticStyle:{cursor:"pointer"},attrs:{src:t.row.detected_image_url,width:"安检报警"==e.radio?106:80,height:80},on:{click:function(i){return e.handleCkeckImg(t.row.detected_image_url)}}})]}}])}),i("el-table-column",{key:"alarm_time",attrs:{prop:"alarm_time",label:"报警时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.timeFilter(t.row.alarm_time))+" ")]}}])}),"抓拍报警"==e.radio?i("el-table-column",{key:"terminal",attrs:{prop:"terminal",label:"报警地点"}}):e._e(),"抓拍报警"==e.radio?i("el-table-column",{key:"area",attrs:{prop:"area",label:"报警区域"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getAreaName(t.row.camera_id))+" ")]}}],null,!1,1025277521)}):e._e(),"抓拍报警"==e.radio?i("el-table-column",{key:"camera_id",attrs:{prop:"camera_id",label:"抓拍相机"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getCameraName(t.row.camera_id))+" ")]}}],null,!1,4080320799)}):e._e(),i("el-table-column",{key:"group_name",attrs:{prop:"group_name",label:"布控库"}}),i("el-table-column",{key:"reason",attrs:{prop:"reason",label:"布控原因"}}),i("el-table-column",{key:"alarm_level",attrs:{prop:"alarm_level",label:"报警等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{style:e.getLevelColor(t.row.alarm_level)},[e._v(e._s(e.getAlarmLevel(t.row.alarm_level)))])]}}])}),i("el-table-column",{key:"image_url",attrs:{prop:"image_url",label:"对比照"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("img",{staticStyle:{cursor:"pointer"},attrs:{src:t.row.image_url,width:"80",height:"80"},on:{click:function(i){return e.handleCkeckImg(t.row.image_url)}}})]}}])}),i("el-table-column",{key:"match_score",attrs:{prop:"match_score",label:"相似度"},scopedSlots:e._u([{key:"default",fn:function(t){return[2!==t.row.type?i("span",[e._v(e._s(t.row.score+"%"))]):i("span",[e._v("—")])]}}])}),"安检报警"==e.radio?i("el-table-column",{key:"sec_info",attrs:{prop:"sec_info",label:"安检信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.sec_name?i("span",{staticClass:"check_data",on:{click:function(i){return e.showCheckData(t.row)}}},[e._v("查看详情")]):e._e()]}}],null,!1,2266387171)}):e._e(),i("el-table-column",{key:"sec_record",attrs:{prop:"sec_record",label:"库检索",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"check_record",on:{click:function(i){return e.handleGoSearch(t.row)}}},[e._v("查看抓拍")])]}}])}),i("el-table-column",{key:"check_status",attrs:{prop:"check_status",label:"处理状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getCheckStatus(t.row.check_status))+" ")]}}])}),i("el-table-column",{key:"alarm_type",attrs:{prop:"alarm_type",label:"报警类别"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.getAlarmType(t.row.alarm_type))+" ")]}}])}),i("el-table-column",{key:"operate",attrs:{label:"操作",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"大图比对",placement:"top"}},[i("i",{staticClass:"el-icon-zoom-in zoom",on:{click:function(i){return e.zoomIn(t.row)}}})]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"收藏",placement:"top"}},[i("i",{staticClass:"el-icon-star-off collect",on:{click:function(i){return e.addFover(t.row)}}})]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"播放",placement:"top"}},[0==t.row.type?i("i",{staticClass:"el-icon-video-camera radio",on:{click:function(i){return e.showVideo(t.row.video_url)}}}):e._e()]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"报警处理",placement:"top"}},[i("i",{staticClass:"el-icon-edit-outline edit",on:{click:function(i){return e.handleEditAlarm(t.$index,t.row)}}})])]}}])})],1)],1),i("div",{staticClass:"pagintion_content"},[i("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.hanleCurrentPChange,"size-change":e.handleSizeChange}})],1)]),i("el-dialog",{attrs:{visible:e.videoVisible,width:"850px"},on:{"update:visible":function(t){e.videoVisible=t}}},[i("div",{staticClass:"detail_content"},[i("video",{attrs:{width:"800",height:"600",controls:"",autoplay:"",src:e.videoUrl}})])]),i("el-dialog",{attrs:{visible:e.isEditAlarm,width:"660px",title:"报警处理","custom-class":"edit_dialog"},on:{close:function(t){return e.handleCloseDialog()}}},[i("div",[i("div",{staticClass:"edit_alarm_item"},[i("span",{staticClass:"title"},[e._v("处理备注")]),i("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:e.remark,callback:function(t){e.remark=t},expression:"remark"}})],1),i("div",{staticClass:"select_alarm_button"},[i("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleConfirmEdit(2)}}},[e._v(" 误报警 ")]),i("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.handleConfirmEdit(1)}}},[e._v(" 有效报警 ")])],1)])]),i("el-dialog",{attrs:{visible:e.checkDataVisible,title:"安检信息",width:"450px"},on:{"update:visible":function(t){e.checkDataVisible=t}}},[i("div",{staticClass:"check_data_detail"},[i("div",{staticClass:"check_data_detail_img"},[i("img",{attrs:{src:e.checkData.detected_image_url,alt:""}})]),i("div",{staticClass:"check_data_detail_info"},[i("span",[e._v("姓名："+e._s(e.checkData.sec_name))]),i("span",[e._v("证件号："+e._s(e.checkData.sec_number))]),i("span",[e._v("安检地点："+e._s(e.checkData.sec_channel))]),i("span",[e._v("安检时间："+e._s(e.checkData.sec_time))]),i("span",[e._v("乘坐航班："+e._s(e.checkData.sec_flight))]),i("span",[e._v("座位号："+e._s(e.checkData.sec_seat))])])])]),i("CheckLargeImg",{attrs:{show:e.isShow,compare:e.isCompare,"img-url":e.imgList},on:{isClose:e.closeCheck}})],1)},r=[],s=i("5530"),n=(i("e9c4"),i("4160"),i("d3b7"),i("159b"),i("a434"),i("99af"),i("406e")),o=i("2f62"),l=i("5c96"),c=i("be46"),h=i("393c"),d=i.n(h),u=i("510e"),m=i("365c"),_=i("8dce"),g=i("0fea"),f=i("9e04"),p=i("f306"),A=i("7c8a"),b={data:function(){return{radio:"抓拍报警",tableData:[],selection:[],selectionButton:[],isIndeterminate:!1,checkAll:!1,tableHeight:0,cellStyle:{textAlign:"center"},headerCellStyle:{textAlign:"center"},rowStyle:{background:"#22253B"},scoreStyle:{background:"url(".concat(d.a,") no-repeat 100%")},currentPage:1,pageSize:10,total:0,videoVisible:!1,videoUrl:"",detail:{catchImg:"",matchImg:"",catchTime:"",catchArea:"",gender:"",age:""},checkDataVisible:!1,checkData:{},catchImg:"",prop:"",order:"",rClick:!1,firstColor:"#F5222D",secondColor:"#FF8600",thirdColor:"#FFDB00",currentEditData:{},isEditAlarm:!1,remark:"",checkQuery:{},isShow:!1,imgList:[],isCompare:!1}},mixins:[p["a"]],components:{SearchModule:c["a"],CheckLargeImg:A["a"]},computed:Object(s["a"])({},Object(o["b"])(["alarmList","alarmListQuery","camerasData"])),watch:{alarmList:function(){var e=this;this.radio="抓拍报警",this.checkQuery=JSON.parse(JSON.stringify(this.alarmListQuery)),this.alarmList&&this.alarmList.alarm_count&&this.alarmList.alarms?(this.pageSize=this.alarmListQuery.page_size,this.currentPage=this.alarmListQuery.page,this.tableData=this.alarmList.alarms,this.total=this.alarmList.alarm_count):(this.total=0,this.tableData=[],this.selection=[]),this.prop="",this.order="",this.selectionButton=[],this.alarmList.alarms&&this.alarmList.alarms.forEach((function(){e.selectionButton.push(!1)})),1===this.alarmListQuery.reset?(this.selection=[],this.checkAll=!1,this.isIndeterminate=!1):0===this.alarmListQuery.reset&&this.handleDataChange()},radio:function(e){var t=this;if(this.order="",this.selection=[],this.selectionButton=[],this.checkAll=!1,this.isIndeterminate=!1,this.$refs.singleTable.clearSelection(),this.currentPage=1,this.pageSize=10,"安检报警"===e&&"{}"!==JSON.stringify(this.checkQuery)){var i=JSON.parse(JSON.stringify(this.alarmListQuery));i.type=1,i.page_size=10,i.page=1,f["a"].getAlarmList(i).then((function(e){0===e.error_no&&(t.tableData=e.data.alarms||[],t.total=e.data.alarm_count)}))}else"抓拍报警"===e&&"{}"!==JSON.stringify(this.checkQuery)&&(this.tableData=this.alarmList.alarms,this.total=this.alarmList.alarm_count)}},beforeRouteLeave:function(e,t,i){this.checkQuery={},i()},methods:{zoomIn:function(e){this.isShow=!0,this.isCompare=!0,this.imgList.push(e.detected_image_url,e.image_url)},closeCheck:function(){this.isShow=!1,this.isCompare=!1,this.imgList=[]},handleCkeckImg:function(e){this.isShow=!0,this.imgList.push(e)},handleGoSearch:function(e){this.$router.push({name:"portraitlibrarysearch",params:{item:e}})},handleConfirmEdit:function(e){var t=this;f["a"].changeAlarmStatus(this.currentEditData.id,{alarm_type:e,remark:this.remark}).then((function(){t.tableData.forEach((function(i,a){i.id===t.currentEditData.id&&t.tableData.splice(a,1,Object.assign(t.currentEditData,{check_status:1},{alarm_type:e}))})),t.remark="",t.isEditAlarm=!1}))},handleCloseDialog:function(){this.isEditAlarm=!1,this.remark=""},handleEditAlarm:function(e,t){this.isEditAlarm=!0,this.currentEditData=t},handleDataChange:function(){var e=this,t=0;this.selection.forEach((function(i){e.alarmList.alarms.forEach((function(a,r){i.id===a.id&&(t++,e.selectionButton[r]=!0)}))})),this.checkAll=t===this.pageSize,this.isIndeterminate=t>0&&t<this.pageSize},getPreference:function(){var e=this;g["b"].getPreference().then((function(t){0===t.error_no&&(e.firstColor=t.data.items[0].color1,e.secondColor=t.data.items[0].color2,e.thirdColor=t.data.items[0].color3)}))},getLevelColor:function(e){return 3===e?"color: ".concat(this.thirdColor):2===e?"color: ".concat(this.secondColor):1===e?"color: ".concat(this.firstColor):""},getCameraName:function(e){var t="";return this.camerasData.forEach((function(i){i.id===e&&(t=i.airport_name)})),t},getAreaName:function(e){var t="";return this.camerasData.forEach((function(i){i.id===e&&(t=i.area)})),t},getAlarmLevel:function(e){return 1===e?"一级":2===e?"二级":3===e?"三级":""},getCheckStatus:function(e){return 1===e?"已处理":2===e?"未处理":""},getAlarmType:function(e){return 1===e?"有效报警":2===e?"误报警":3===e?"待确认":""},timeFilter:function(e){var t=u["a"].getTime(e/1e3);return"".concat(t.nowYear,"/").concat(t.nowMonth,"/").concat(t.nowDate," ").concat(t.nowHour,":").concat(t.nowMin,":").concat(t.nowSec)},genderFilter:function(e){return 1===e?"男":2===e?"女":"未知"},handleSizeChange:function(e){var t=this;if(0!==this.total&&"抓拍报警"===this.radio)this.$store.dispatch("SEARCHALARMS",Object(s["a"])(Object(s["a"])({},this.alarmListQuery),{},{page_size:e,reset:0}));else if(0!==this.total&&"安检报警"===this.radio){var i=JSON.parse(JSON.stringify(this.alarmListQuery));i.type=1,i.page=this.currentPage,i.page_size=e,f["a"].getAlarmList(i).then((function(e){0===e.error_no&&(t.tableData=e.data.alarms||[],t.total=e.data.alarm_count)}))}this.pageSize=e},hanleCurrentPChange:function(e){var t=this;if(0!==this.total&&"抓拍报警"===this.radio)this.$store.dispatch("SEARCHALARMS",Object(s["a"])(Object(s["a"])({},this.alarmListQuery),{},{page:e,reset:0}));else if(0!==this.total&&"安检报警"===this.radio){var i=JSON.parse(JSON.stringify(this.alarmListQuery));i.type=1,i.page=e,i.page_size=this.pageSize,f["a"].getAlarmList(i).then((function(e){0===e.error_no&&(t.tableData=e.data.alarms||[],t.total=e.data.alarm_count)}))}this.currentPage=e},resize:function(){this.$refs.tableContent&&(this.tableHeight=this.$refs.tableContent.offsetHeight)},rowKey:function(e){return e.id},showDetail:function(e){this.detail={catchImg:e.detected_image_url,matchImg:e.match_image_url,catchTime:e.enter_time,catchArea:e.terminal,gender:e.gender,age:e.age_group},this.detailVisible=!0},showCheckData:function(e){this.checkData=e,this.checkDataVisible=!0},showVideo:function(e){e?(this.videoUrl=e,this.videoVisible=!0):l["Message"].error({message:"视频未下载完成"})},handleSortChange:function(e,t){var i=this;if(this.total>0)if(this.prop=e,this.order=t,t&&"抓拍报警"===this.radio)this.alarmListQuery.page=1,this.alarmListQuery.page_size=10,this.$store.dispatch("SEARCHALARMS",Object(s["a"])(Object(s["a"])({},this.alarmListQuery),{},{order:t}));else if(t&&"安检报警"===this.radio){var a=JSON.parse(JSON.stringify(this.alarmListQuery));this.currentPage=1,this.pageSize=10,a.type=1,a.order=t,a.page=1,a.page_size=10,f["a"].getAlarmList(a).then((function(e){0===e.error_no&&(i.tableData=e.data.alarms||[],i.total=e.data.alarm_count)}))}},setCheck:function(e,t){return this.prop===e&&this.order===t?{color:"#1890FF"}:{color:"#FFFFFF"}},handleSelectionChange:function(e){var t=this;this.selection=[],e&&e.forEach((function(e){e&&t.selection.push(e)}))},exportData:function(){var e=this;if(this.selection.length<1)l["Message"].error({message:"请选择导出数据"});else{var t=[[]];"抓拍报警"===this.radio?this.selection.forEach((function(i){t[0].push({"抓拍照":i.detected_image_url,"报警时间":e.timeFilter(i.alarm_time),"抓拍地点":i.terminal,"报警区域":e.getAreaName(i.camera_id),"抓拍相机":e.getCameraName(i.camera_id),"对比照":i.image_url,"布控库":i.group_name,"相似度":"".concat(i.score,"%"),"报警等级":e.getAlarmLevel(i.alarm_level),"处理状态":e.getCheckStatus(i.check_status),"报警类别":e.getAlarmType(i.alarm_type),"视频地址":i.video_url})})):"安检报警"===this.radio&&this.selection.forEach((function(i){t[0].push({"安检照":i.detected_image_url,"报警时间":e.timeFilter(i.alarm_time),"对比照":i.image_url,"布控库":i.group_name,"相似度":"".concat(i.score,"%"),"姓名":i.sec_name,"证件号":i.sec_number,"安检地点":i.sec_channel,"乘坐航班":i.sec_flight,"座位号":i.sec_seat,"报警等级":e.getAlarmLevel(i.alarm_level),"处理状态":e.getCheckStatus(i.check_status),"报警类别":e.getAlarmType(i.alarm_type)})})),Object(_["a"])(t,["历史报警"],"历史报警");var i={action:"导出",extra:"历史报警"};Object(m["b"])(i).then((function(){}))}},handleRClick:function(e){this.rClick=!0,this.$refs.operationControl.style.left="".concat(e.clientX,"px"),this.$refs.operationControl.style.top="".concat(e.clientY,"px")},addFover:function(e){Object(m["a"])({image_url:e.detected_image_url,detected_unix_time:e.alarm_time}).then((function(e){0===e.error_no&&l["Message"].success({message:"收藏成功"})}))}},mounted:function(){var e=this;this.getPreference(),this.$route.params.imgUrl&&(this.catchImg=this.$route.params.imgUrl),this.$nextTick((function(){e.tableHeight=e.$refs.tableContent.offsetHeight,Object(n["a"])(e.$refs.tableContent,e.resize)}))},beforeDestroy:function(){Object(n["b"])(this.$refs.tableContent,this.resize)}},y=b,k=(i("772a"),i("1f85"),i("2877")),C=Object(k["a"])(y,a,r,!1,null,"e391bc80",null);t["default"]=C.exports},"772a":function(e,t,i){"use strict";i("7baa")},"7baa":function(e,t,i){},"7c8a":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"check_large_img"},[i("MyDialog",{staticClass:"check_dialog",attrs:{isVisible:e.show&&""!==e.imgUrl[0],title:"查看大图",width:e.compare?"60%":"40%",center:""},on:{close:e.handleClose},scopedSlots:e._u([{key:"content",fn:function(){return[e.compare?i("div",{staticClass:"compare_img"},e._l(e.imgUrl,(function(t,a){return i("checkSingleImg",{key:a,ref:"multiple",refInFor:!0,attrs:{"img-url":e.imgUrl[a],id:e.imgUrl[a]+a}})})),1):i("div",[i("checkSingleImg",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],key:e.imgUrl[0],ref:"single",attrs:{"img-url":e.imgUrl[0],id:e.imgUrl[0]}})],1)]},proxy:!0}])})],1)},r=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"single_img"},[i("div",{staticClass:"img_box"},[i("img",{attrs:{src:e.imgUrl,alt:"",id:e.id}})]),i("div",{staticClass:"operate_icon"},[i("span",{on:{click:function(t){return e.handleOperate("in")}}},[i("img",{attrs:{src:e.zoomIn,alt:""}})]),i("span",{on:{click:function(t){return e.handleOperate("out")}}},[i("img",{attrs:{src:e.zoomOut,alt:""}})]),i("span",{on:{click:function(t){return e.handleOperate("original")}}},[i("img",{attrs:{src:e.original,alt:""}})])])])},n=[],o=(i("99af"),i("ac0a")),l=i.n(o),c=i("83d1"),h=i.n(c),d=i("96f7"),u=i.n(d),m={name:"checkSingleImg",props:{imgUrl:{type:String,default:""},id:{type:String,default:""}},data:function(){return{size:1,zoomIn:l.a,zoomOut:h.a,original:u.a}},methods:{handleOperate:function(e){if(this.reset=!1,"in"===e)this.size+=.5,document.getElementById(this.id).style.transform="scale(".concat(this.size,", ").concat(this.size,")");else if("out"===e){if(this.size-=.5,this.size<=0)return void(this.size=.5);document.getElementById(this.id).style.transform="scale(".concat(this.size,", ").concat(this.size,")")}else this.size=1,document.getElementById(this.id).style.transform="scale(".concat(this.size,", ").concat(this.size,")")}}},_=m,g=(i("4e9a"),i("2877")),f=Object(g["a"])(_,s,n,!1,null,"13181ef6",null),p=f.exports,A=i("8e6c"),b={name:"checkLargeImg",components:{checkSingleImg:p,MyDialog:A["a"]},props:{compare:{type:Boolean,default:!1},imgUrl:{type:Array,default:Function},show:{type:Boolean,default:!1}},data:function(){return{}},methods:{handleClose:function(){this.$emit("isClose",!0)}}},y=b,k=(i("a1e5"),Object(g["a"])(y,a,r,!1,null,null,null));t["a"]=k.exports},"83d1":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABEtJREFUWEfNmF9om1UYxp/nfGmzthPWKtsqgpuiIBOvuq3NmmRdkrI2EaeCMBjDKd44vBAtOP8w0e1GEETmriYqeqFulSlNZklimqQpbAsUL/yDRRGVjm6IU2mnJjmvJF1L/6T9TtJkLLfneZ/n9715k++cQ9zkH9aCb2xsrOnvXG5zLo92BaxXVFN0qku9LtcVkrKWjKoAs9ls8+WrM70a2AfIXgg2lYMgkQcwLlSfO8ize/d0f1MpbEWAw5nMxvy1/FEBD0GkqYqw70SpoyGf+7RprRHg9Y49p4EBiNxiar6ijrxAykDQ503ZedkCDkXTd4HyBUS22ZlVuq7I1/p87ldXm9NVASNfpbxayyAEt1YabqonObhpQ/PBjo6OmbJzvJJROJYOAfKZiDSYhlWrI3i+tcXR43K5ri31KNvB4UTm/lyhMFaTeTOlJj8O+T37bQETiext0/mZC4BsNfWulY7AK8GA99hCv2UdDEeTnwjwWK1CK/Ep/VgstSPY052dq1sE+GU8tSOv5XwlpjXXkiMhv6enLGA4lkqKiKfmoRUakurBoN89VCyb7+C5aHp3ATpRoVdd5ASywYB3+yLAcCx9QkQfrktiFaaWo3FrX0/Xz6UOiggj8dQvIrijCq+6lCjFZ/t9nrdKgOHEaIfkCxfrklSlKcFkMODZXQIciiWfhOBUlV71KSOuhvze1tkORpMvC/C6SVLxv0qAf0y0y94KIkoAp2ltW0tD8yxgLPmOCJ62KyT5Ea3GI/09nb/Zacuti4gajmd2FUSfEchGew9193XA1BkRedSuoLHReW+vt3PCTme3Homn3tZanrHTWXS45mbwXQiesCug4qGgz/O+nc5uPRxNXhSgw06nyG0lwEg0eUwDL9kVACiATENQVRcJOEDsEZE7DbKAdaptbgYPi+CEUdENEhH4NxjwrpvtYHy0T+tC5AZlm8Z8Hwp47ysBFs+1f0znrgjQYlpddx3xZsjvfX5+sxCOJgcFeKTuwYYBFpS7L+AenQcciqUOQORDw/q6yghe7ve720nqecDS1zyT++Fm2DAs3Pov2lGH46nHRct7dW2PrTknN7c23zN3DF0EWHwVReLpcRF5wNanTgIqPhX0eeY3LssOTZHEaKfkCyOVvNRrxkqOBH1uP8nCnGfZc3Ekmj6ooT+oWbCBEckfnXDu9Pt3/r5QvuLVRziWekNEBgy81ywh+BeJrn6/59ulZisCluYxNnpcoF9YM8GqBpy0aO3r8+8qu6O3v92KpQ5Q5FQ9ZrJ4emtosh7q7e6eXOkZbAGLhedime1a8idNtkhm3eZ/AE62tTheLHdhZDSDS4NKJ79YZj9YOC6CLWYgy1UEPhWoI6GA+ycTD6MOLjSKTEw49a9TQWr9sEBCEGywDSK/pshZy7JOV3pPXTHgQphsNtsw9ed0F7XaohXaKfp2AdYTnCIxKRqXBBw37Va5B/0fc/OUAcwJnZ8AAAAASUVORK5CYII="},"96f7":function(e,t){e.exports="data:image/png;base64,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"},a1e5:function(e,t,i){"use strict";i("e079")},ac0a:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAABK9JREFUWEfNmG1oG3Ucx7+/u3Rd2ylrFbuKLzZlL2S6N0s3G5tkNUldexGngjCcwwdEcKKIFnxkousbwQdkTl9MRYX5MCtTmnQzV9tcH3AzUIb4gEMRhY6uyKqjnWuS+0quTZt2SXO5Rui9Cne/7/f3ud/98n8SrPBLysE3PDxcdT6ZXJdMoUEB1iiijEmlcqbV4xkXES4nhyPARCJRfXZiqtUEdgLcAaI+H4QIUgBGKMqXLpGjO25p/qFU2JIAjw8NXZW6kNpHyP0gqxwk+4mKsi8c8B6xq7UFOFuxJ02gA+Rlds0LxomcFGGHFvAbxbyKAnbHBq6F8CuQm4qZlfpcEXmpLeB9cak+XRIw+o3hN012gbii1OR240Wkq35t9R632z2Vt48LGUX0gTDAL0hW2E3mNE4gJ2prXC0ej+fCYo+8FTzeN3RDMp0eLku/2aUW+SQc9O0qCtjXl7hyMjV1EuAGu97lihPgBS3k35/rd0kFI7H4pwTuLlfSUnysP4uqbNVamhNZ3QLAY73G1pTJE6WYlj1WpD8c9LXkBYzoRpykz0nS2aHidQIjAj5GotGJT0YjotymBb3d1u+sSU9sYHsaZp9jU0hcC/m2Z/Q9urE5TZ5y7oWEFvJbLzgHGNEHDpDmXsemgje1oP/xrL47Fl/WIkF1rdrQ1tL0uwVIUqK9xh8krlkpgIoiT7QHfG9YgJG+QTdT6e+cws30TXkrKLMtYwF26/EHQRxaSYAQTISD/tqZCsbizxN42T6gTAvwb248wbfDIf/T2XuRWHzCqmvORfBy+zmAupqK6hlAPf4WiUfsiDOjfX1tzWuFJvelPL6Of7txenr6Y4Bb7OQClOtmAY3PSd5VTCTAZH1tTa3b7U4Wiy30PKLHHybxjh29Ki5PtgffBfGAHZG41MbcqciOJjcmEjM+JHivHZ0isskCjMbi+03gOTsiAS5C5BiAcwviqcS0UPPh+R403oPMj7PWfXILgRvt5LFiVit12R7cS+KAbWGewPIPM7iohfyrZyrYO9hmmunoSgIE8HM45L/eAszsa89NJscJ1DiFLHcFIXg1HPQ/NT8Xx+JdBO5cKYAqFG9byDs4B9itG7tBfuQYEDishfz3ZPQzq/LJcedecrY96G0QEXMO0PrMU8lfnC4YMmOkqHIrqld9b56f7gT4qHPA+aX/gqko0mvcR5PvOzWe1aUBqM49ZHRdbfXG7Ey1cK4klWjvwAjJzc4TLE8pijykBXxzC5dLNk3RvsGbmEr3E6hcXioHapF+LeANikjmK1hX3n1xNDawx4T5gYMUjiUi8mslKrcFg9v+yjUpePQR0Y1XSHY4zliCUCD/iKCpPej7cbGsICAz/agPdhLm3BqvhJwlhMqoKurOtuDNeVf0xU+3dGO3kIf+j54UIFFRpd7e2tw8WuiNigJmhD36UKPJ1EEC7hJKs0SoTAM4WFfjejbfgZGtHlzsbu389KFdkHQnifVOQQX4jFCeCYe8v9nxsFXBXKPo6dOV5p9jmpjmHQTDINYWTSRySsijqqoeKfWcumTAXJhEIlEx9vdkk5jKelNBg9C8msAagYyJYJQmzhAyYrda+V70P5Fg4gF4KROwAAAAAElFTkSuQmCC"},e079:function(e,t,i){}}]);