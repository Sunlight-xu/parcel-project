(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d225608"],{e3ae:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"main_container"},[a("searchModule",{attrs:{searchModule:!0,type:"peopleThreshold",filtersItem:[["area"]]}}),a("div",{staticClass:"search_content border_radius"},[a("el-table",{attrs:{data:t.tableData}},[a("el-table-column",{attrs:{label:"序号",type:"index",width:"80"}}),a("el-table-column",{attrs:{label:"区域",prop:"name"}}),a("el-table-column",{attrs:{label:"阈值（人数）",prop:"threshold"}}),a("el-table-column",{attrs:{label:"更新时间",prop:"created_at"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.timeFilter(new Date(e.row.created_at).getTime()/1e3))+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"80",prop:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{color:"#3AA0FF"},on:{click:function(a){return t.setThreshold(e.row.id)}}},[t._v("设置")])]}}])})],1)],1),a("el-dialog",{attrs:{visible:t.dialogVisible,title:"设置"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("span",{staticStyle:{"margin-right":"20px"}},[t._v("阈值")]),a("el-input",{staticStyle:{width:"300px"},attrs:{placeHolder:"请输入"},model:{value:t.thresholdValue,callback:function(e){t.thresholdValue=e},expression:"thresholdValue"}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.patchThreshold}},[t._v("确 定")])],1)])],1)},o=[],n=a("5530"),r=(a("e25e"),a("5c96")),s=a("2f62"),i=a("be46"),c=a("0fea"),h=(a("99af"),a("510e")),u={methods:{timeFilter:function(t){if(!t)return"";var e=h["a"].getTime(t);return"".concat(e.nowYear,"-").concat(e.nowMonth,"-").concat(e.nowDate," ").concat(e.nowHour,":").concat(e.nowMin,":").concat(e.nowSec)}}},d={data:function(){return{tableData:[],currentPage:1,pageSize:10,total:0,thresholdValue:"",dialogVisible:!1,currentId:""}},computed:Object(n["a"])({},Object(s["b"])(["thresholdArea"])),mixins:[u],components:{searchModule:i["a"]},watch:{thresholdArea:function(t){this.tableData=t.items,this.total=t.count}},mounted:function(){this.getThreshold()},methods:{handleCurrentChange:function(){},handleSizeChange:function(){},getThreshold:function(){var t=this;c["b"].getThreshold().then((function(e){0===e.error_no&&(t.tableData=e.data.items,t.total=e.data.count)}))},setThreshold:function(t){this.currentId=t,this.thresholdValue="",this.dialogVisible=!0},patchThreshold:function(){var t=this;isNaN(parseInt(this.thresholdValue))?r["Message"].error("配置失败"):c["b"].patchThreshold(this.currentId,{threshold:parseInt(this.thresholdValue)}).then((function(e){0===e.error_no&&(r["Message"].success("配置成功"),t.dialogVisible=!1,t.getThreshold())}))}}},p=d,b=a("2877"),f=Object(b["a"])(p,l,o,!1,null,null,null);e["default"]=f.exports}}]);