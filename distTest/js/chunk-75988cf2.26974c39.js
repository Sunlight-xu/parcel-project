(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75988cf2"],{"0dc7":function(t,e,a){},"8f42":function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return l})),a.d(e,"c",(function(){return c}));a("d401"),a("0d03"),a("d3b7"),a("25f0"),a("b64b"),a("d81d"),a("4160"),a("159b");var n=a("313e"),i=a.n(n),s=(a("510e"),["#FF9239","#38D5FC","#FF5BE2","#8484FF","#3ABB2D","#C0C980","#B91D21","#FBE212","#256BBD","#65016C"]),r=function(){var t=Math.floor(16777216*Math.random()).toString(16);while(t.length<6)t="0"+t;return console.log("#"+t),"#"+t},o=function(t,e){var a=document.getElementById(t),n=i.a.init(a),o=Object.keys(e.data);if(o.length>s.length)for(var l=0;l<=o.length-s.length;l++)s.push(r());var c=o.map((function(t,a){return{name:t,type:"line",data:e.data[t],smooth:!0,showSymbol:!1,areaStyle:{opcopacity:.5,color:new i.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:s[a]},{offset:1,color:"rgba(255,255,255,0)"}])}}}));n.clear();var h={color:s,tooltip:{trigger:"axis",padding:[10,20],backgroundColor:"rgba(255, 255, 255, 1)",textStyle:{color:"#000",fontWeight:"400",fontSize:13},extraCssText:"box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);"},legend:{data:o,icon:"circle",x:"center",y:"bottom"},grid:{top:"6%",left:"3%",right:"4%",bottom:"9%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:e.legendData,axisTick:{alignWithLabel:!0,show:!1},axisLine:{show:!1}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{alignWithLabel:!0,show:!1},splitLine:{lineStyle:{color:"rgba(102,102,102,0.19)"}}},series:c};return h&&n.setOption(h),n},l=function(t,e,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"flow",o=arguments.length>4?arguments[4]:void 0,l=document.getElementById(t),c=i.a.init(l);c.clear();var h=[],u=[];if("todayalarm"===n?e&&e.forEach((function(t){h.push(t.alarm_type_desc),u.push(t.num)})):"alarm"===n?e&&e.forEach((function(t){h.push(t.alarm_description),u.push(t.num)})):e&&e.forEach((function(t){h.push(t.area_name),u.push(t.total)})),u.length>s.length)for(var d=0;d<=u.length-s.length;d++)s.push(r());var p={color:s,title:{text:o,textStyle:{color:"#000",fontWeight:"500",fontSize:18,fontFamily:"PingFangSC-Medium, PingFang SC"}},tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"#DBDBDB",opacity:.56}},padding:[10,20],backgroundColor:"rgba(255, 255, 255, 1)",textStyle:{color:"#000",fontWeight:"400",fontSize:13},extraCssText:"box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:h,axisTick:{alignWithLabel:!0,show:!1},axisLine:{show:!1},axisLabel:{interval:0}}],yAxis:[{splitLine:{lineStyle:{color:"rgba(102,102,102,0.19)"}},type:"value",axisLine:{show:!1},axisTick:{show:!1}}],series:[{type:"bar",barWidth:"38",itemStyle:{color:a||"auto"},data:u}]};return p&&c.setOption(p),c},c=function(t,e,a){var n=document.getElementById(t),r=i.a.init(n);r.clear();var o={color:s,title:{text:a,textStyle:{color:"#000",fontWeight:"500",fontSize:18,fontFamily:"PingFangSC-Medium, PingFang SC"}},tooltip:{trigger:"item",backgroundColor:"rgba(255, 255, 255, 1)",padding:[10,20],textStyle:{color:"#000",fontWeight:"400",fontSize:13},extraCssText:"box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);"},legend:{top:"5%",left:"center",show:!1},series:[{type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,label:{show:!1,position:"center"},labelLine:{show:!1},data:e}]};return o&&r.setOption(o),r}},ce3f:function(t,e,a){"use strict";a("0dc7")},f352:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"analyst_container"},[a("div",{staticClass:"analyst_header"},[a("span",{staticClass:"analyst_header_button"},[a("span",{staticClass:"left_btn",style:t.setSpanStyle("leave"),on:{click:function(e){return t.setStatus("leave")}}},[t._v("离港")]),a("span",{staticClass:"right_btn",style:t.setSpanStyle("enter"),on:{click:function(e){return t.setStatus("enter")}}},[t._v("进港")])]),a("span",{staticClass:"analyst_header_picker"},[a("span",{staticClass:"round_button",style:t.setSpanStyle("now"),on:{click:function(e){return t.setDataTime("now")}}},[t._v(" 本周 ")]),a("span",{staticClass:"round_button",style:t.setSpanStyle("last"),on:{click:function(e){return t.setDataTime("last")}}},[t._v(" 上周 ")]),a("span",{staticStyle:{"margin-right":"32px"}},[a("span",[t._v("区域：")]),a("el-cascader",{attrs:{placeholder:"所有二级区域","collapse-tags":"","show-all-levels":!1,props:{multiple:!0,checkStrictly:!0},options:t.areaOptions,clearable:!0,size:"small"},model:{value:t.area,callback:function(e){t.area=e},expression:"area"}})],1),a("span",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.searchData}},[t._v("查询")])],1)])]),t._m(0),a("div",{staticClass:"analyst_table"},[t._m(1),a("div",{staticClass:"table_content"},[a("common-table",{attrs:{isShowIndex:!0,tableData:t.tableData,tableColArray:t.tableColumn}})],1)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"analyst_line"},[a("div",{staticClass:"item_header"},[a("span",{staticClass:"item_header_title"},[t._v("时段分析")])]),a("div",{staticClass:"bar_charts",attrs:{id:"bar"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item_header"},[a("span",{staticClass:"item_header_title"},[t._v("累计分析")])])}],s=a("b85c"),r=a("5530"),o=(a("0d03"),a("d81d"),a("b0c0"),a("406e")),l=a("7f5c"),c=a("8f42"),h=a("b837"),u={data:function(){return{searchDate:"",areaOptions:[],area:"",status:"leave",tableData:[],tableColumn:[{label:"一级区域",props:"area_name_l0"},{label:"二级区域",props:"area_name_l1"},{label:"三级区域",props:"area_name_l2"},{label:"合计",props:"total"},{label:"同比",props:"w_o_lyw"},{label:"环比",props:"w_o_lw"}],timeRange:"now"}},components:{CommonTable:h["a"]},created:function(){var t=this;Object(l["f"])().then((function(e){0===e.error_no&&(t.areas=e.data,t.getAreaOperations())}))},mounted:function(){this.getflowWeekData(),Object(o["a"])(document.getElementById("bar"),this.resize)},beforeDestroy:function(){Object(o["b"])(document.getElementById("bar"),this.resize)},methods:{setStatus:function(t){this.status=t,this.getAreaOperations(),this.searchData()},setSpanStyle:function(t){return this.status===t||this.timeRange===t?{background:"#4585C9",color:"#fff"}:{}},getflowWeekData:function(t){var e=this;Object(l["u"])(Object(r["a"])({direction:this.status},t)).then((function(t){0===t.error_no&&(e.tableData=t.data,e.createBar(e.tableData))}))},createBar:function(t){this.barCharts=Object(c["a"])("bar",t,"#DAB2B2")},setDataTime:function(t){this.timeRange=t},searchData:function(){if(this.params={},"now"===this.timeRange){var t=new Date;t.setDate(t.getDate()-t.getDay()+1),this.params.start_time=new Date(t.toLocaleDateString()).getTime(),t.setDate(t.getDate()+7),this.params.end_time=new Date(t.toLocaleDateString()).getTime()}else{var e=new Date;e.setDate(e.getDate()-e.getDay()+1),this.params.start_time=new Date(e.toLocaleDateString()).getTime()-6048e5,e.setDate(e.getDate()+7),this.params.end_time=new Date(e.toLocaleDateString()).getTime()-6048e5}this.area&&this.area.length>0&&(this.params.area_ids=this.area.map((function(t){return t[t.length-1]}))),this.getflowWeekData(this.params)},resize:function(){this.barCharts.resize&&this.barCharts.resize()},isContain:function(t){if("leave"===this.status){if(3===t||1===t)return!0}else if("enter"===this.status&&(3===t||2===t))return!0;return!1},getAreaOperations:function(){this.areaOptions=[];var t,e=Object(s["a"])(this.areas);try{for(e.s();!(t=e.n()).done;){var a=t.value,n={label:a.name,value:a.id};if(a.child&&a.child.length>0){n.children=[];var i,r=Object(s["a"])(a.child);try{for(r.s();!(i=r.n()).done;){var o,l=i.value,c=[],h=Object(s["a"])(l.child);try{for(h.s();!(o=h.n()).done;){var u=o.value;this.isContain(u.area_type)&&c.push({label:u.name,value:u.id})}}catch(d){h.e(d)}finally{h.f()}(c.length>0||this.isContain(l.area_type))&&n.children.push({label:l.name,value:l.id,children:c.length>0?c:void 0})}}catch(d){r.e(d)}finally{r.f()}}this.areaOptions.push(n)}}catch(d){e.e(d)}finally{e.f()}}}},d=u,p=(a("ce3f"),a("2877")),f=Object(p["a"])(d,n,i,!1,null,"7edb51e9",null);e["default"]=f.exports}}]);