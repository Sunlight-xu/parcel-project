(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85130cf8"],{"3e9c":function(e,t,i){},"406e":function(e,t,i){"use strict";i.d(t,"a",(function(){return _})),i.d(t,"b",(function(){return p}));let a=null;function s(e){return a||(a=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,16)}).bind(window)),a(e)}let r=null;function n(e){r||(r=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}).bind(window)),r(e)}function l(e){var t=document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),(document.querySelector("head")||document.body).appendChild(t),t}function o(e,t={}){let i=document.createElement(e);return Object.keys(t).forEach(e=>{i[e]=t[e]}),i}function c(e,t,i){let a=window.getComputedStyle(e,i||null)||{display:"none"};return a[t]}function h(e){if(!document.documentElement.contains(e))return{detached:!0,rendered:!1};let t=e;while(t!==document){if("none"===c(t,"display"))return{detached:!1,rendered:!1};t=t.parentNode}return{detached:!1,rendered:!0}}var d='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}';let u=0,m=null;function _(e,t){e.__resize_mutation_handler__||(e.__resize_mutation_handler__=g.bind(e));let i=e.__resize_listeners__;if(!i)if(e.__resize_listeners__=[],window.ResizeObserver){let{offsetWidth:t,offsetHeight:i}=e,a=new ResizeObserver(()=>{(e.__resize_observer_triggered__||(e.__resize_observer_triggered__=!0,e.offsetWidth!==t||e.offsetHeight!==i))&&C(e)}),{detached:s,rendered:r}=h(e);e.__resize_observer_triggered__=!1===s&&!1===r,e.__resize_observer__=a,a.observe(e)}else if(e.attachEvent&&e.addEventListener)e.__resize_legacy_resize_handler__=function(){C(e)},e.attachEvent("onresize",e.__resize_legacy_resize_handler__),document.addEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);else if(u||(m=l(d)),v(e),e.__resize_rendered__=h(e).rendered,window.MutationObserver){let t=new MutationObserver(e.__resize_mutation_handler__);t.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0}),e.__resize_mutation_observer__=t}e.__resize_listeners__.push(t),u++}function p(e,t){let i=e.__resize_listeners__;if(i){if(t&&i.splice(i.indexOf(t),1),!i.length||!t){if(e.detachEvent&&e.removeEventListener)return e.detachEvent("onresize",e.__resize_legacy_resize_handler__),void document.removeEventListener("DOMSubtreeModified",e.__resize_mutation_handler__);e.__resize_observer__?(e.__resize_observer__.unobserve(e),e.__resize_observer__.disconnect(),e.__resize_observer__=null):(e.__resize_mutation_observer__&&(e.__resize_mutation_observer__.disconnect(),e.__resize_mutation_observer__=null),e.removeEventListener("scroll",b),e.removeChild(e.__resize_triggers__.triggers),e.__resize_triggers__=null),e.__resize_listeners__=null}!--u&&m&&m.parentNode.removeChild(m)}}function f(e){let{width:t,height:i}=e.__resize_last__,{offsetWidth:a,offsetHeight:s}=e;return a!==t||s!==i?{width:a,height:s}:null}function g(){let{rendered:e,detached:t}=h(this);e!==this.__resize_rendered__&&(!t&&this.__resize_triggers__&&(k(this),this.addEventListener("scroll",b,!0)),this.__resize_rendered__=e,C(this))}function b(){k(this),this.__resize_raf__&&n(this.__resize_raf__),this.__resize_raf__=s(()=>{let e=f(this);e&&(this.__resize_last__=e,C(this))})}function C(e){e&&e.__resize_listeners__&&e.__resize_listeners__.forEach(t=>{t.call(e,e)})}function v(e){let t=c(e,"position");t&&"static"!==t||(e.style.position="relative"),e.__resize_old_position__=t,e.__resize_last__={};let i=o("div",{className:"resize-triggers"}),a=o("div",{className:"resize-expand-trigger"}),s=o("div"),r=o("div",{className:"resize-contract-trigger"});a.appendChild(s),i.appendChild(a),i.appendChild(r),e.appendChild(i),e.__resize_triggers__={triggers:i,expand:a,expandChild:s,contract:r},k(e),e.addEventListener("scroll",b,!0),e.__resize_last__={width:e.offsetWidth,height:e.offsetHeight}}function k(e){let{expand:t,expandChild:i,contract:a}=e.__resize_triggers__,{scrollWidth:s,scrollHeight:r}=a,{offsetWidth:n,offsetHeight:l,scrollWidth:o,scrollHeight:c}=t;a.scrollLeft=s,a.scrollTop=r,i.style.width=n+1+"px",i.style.height=l+1+"px",t.scrollLeft=o,t.scrollTop=c}},"415c":function(e,t,i){"use strict";i("b8d7")},6062:function(e,t,i){"use strict";var a=i("6d61"),s=i("6566");a("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),s)},"98fb":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"limit_manage"},[i("searchModule",{attrs:{"search-module":!0,type:"limitManage","filters-item":[["role","operateLimit"]]}}),i("div",{staticClass:"limit_manage_result"},[i("div",{staticClass:"limit_manage_result_operate"},[i("div",[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus",disabled:1===e.permission},on:{click:function(t){return e.handleAddData()}}},[e._v(" 新建 ")]),i("el-button",{attrs:{disabled:1===e.permission},on:{click:function(t){return e.handleDeteleAll()}}},[e._v(" 删除 ")])],1)]),i("div",{ref:"tableContent",staticClass:"limit_manage_result_data"},[i("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{height:e.tableHeight,data:e.tableData,"header-cell-style":e.headerCellStyle,"cell-style":e.headerCellStyle},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{type:"index",label:"序号",index:e.indexMethod}}),i("el-table-column",{attrs:{prop:"name",label:"名称",width:"120"}}),i("el-table-column",{attrs:{prop:"dept",label:"所属部门"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.dept.name)+" ")]}}])}),i("el-table-column",{attrs:{prop:"type",label:"操作权限"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.userTypeList[t.row.type])+" ")]}}])}),i("el-table-column",{attrs:{prop:"access",label:"权限细节"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("i",{staticClass:"el-icon-postcard check-limit",on:{click:function(i){return e.handleCheckLimit(t.$index,t.row)}}})]}}])}),i("el-table-column",{attrs:{prop:"updated_at",label:"更新时间"}}),i("el-table-column",{attrs:{prop:"comment",label:"备注"}}),i("el-table-column",{attrs:{prop:"comment",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return e.handleChangeData(t.row)}}},[e._v("编辑")]),i("el-button",{class:1===e.permission?"icon_size":"icon",attrs:{type:"text",disabled:1===e.permission},on:{click:function(i){return e.handleDeteleData(t.row)}}},[e._v(" 删除 ")])]}}])})],1)],1),i("div",{staticClass:"limit_manage_result_pagination"},[i("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[1,10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"current-change":e.hanleCurrentChange,"size-change":e.handleSizeChange}})],1)]),i("Dialog",{class:["add_role",e.isDisable?"check_role":""],attrs:{isVisible:e.isShowDialog,width:"500",title:e.isEdit?e.isCheck?"角色详情":"修改信息":"新增角色","destroy-on-close":!0},on:{"update:isVisible":function(t){e.isShowDialog=t},"update:is-visible":function(t){e.isShowDialog=t},close:function(t){return e.handleCloseDialog()}},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",{staticClass:"add_role_item"},[i("span",[i("span",{staticClass:"must_tip"},[e._v("*")]),e._v("名称：")]),e.isCheck?i("div",{staticStyle:{width:"400px"}},[e._v(" "+e._s(e.roleItem.name)+" ")]):i("el-input",{attrs:{type:"text",disabled:e.isDisable},model:{value:e.roleItem.name,callback:function(t){e.$set(e.roleItem,"name",t)},expression:"roleItem.name"}})],1),i("div",{staticClass:"add_role_item"},[i("span",[i("span",{staticClass:"must_tip"},[e._v("*")]),e._v("部门：")]),e.isCheck?i("div",{staticStyle:{width:"400px"}},[e._v(" "+e._s(e.roleItem.dept.name)+" ")]):i("el-select",{attrs:{disabled:e.isDisable},model:{value:e.roleItem.dept,callback:function(t){e.$set(e.roleItem,"dept",t)},expression:"roleItem.dept"}},e._l(e.deptList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),i("div",{staticClass:"add_role_item"},[i("span",[i("span",{staticClass:"must_tip"},[e._v("*")]),e._v("类别：")]),e.isCheck?i("div",{staticStyle:{width:"400px"}},[e._v(" "+e._s(e.roleItem.userType)+" ")]):i("el-radio-group",{attrs:{disabled:e.isDisable},on:{change:e.handleCheckRadio},model:{value:e.roleItem.userType,callback:function(t){e.$set(e.roleItem,"userType",t)},expression:"roleItem.userType"}},e._l(e.userTypeData,(function(t){return i("el-radio",{key:t,attrs:{label:t,value:t}},[e._v(" "+e._s(e.userTypeList[t])+" ")])})),1)],1),i("div",{staticClass:"add_role_item_operate"},[i("span",[i("span",{staticClass:"must_tip"},[e._v("*")]),e._v("操作权限：")]),e.isCheck?i("ul",{staticClass:"edit_limit"},e._l(e.operateArray,(function(t){return i("li",{key:t},[e._v(" "+e._s(t)+" ")])})),0):i("div",{staticClass:"operate_limit"},e._l(e.limitListArray,(function(t){return i("div",{key:t.parent,staticClass:"operate_limit_item"},[i("p",[i("el-checkbox",{attrs:{indeterminate:t.isIndeterminate},on:{change:function(i){return e.handleChangeParent(t)}},model:{value:t.isParentCheck,callback:function(i){e.$set(t,"isParentCheck",i)},expression:"item.isParentCheck"}},[e._v(" "+e._s(t.parent)+" ")])],1),i("el-checkbox-group",{model:{value:t.childCheckList,callback:function(i){e.$set(t,"childCheckList",i)},expression:"item.childCheckList"}},e._l(t.children,(function(t){return i("el-checkbox",{key:t.id,attrs:{label:t.id},on:{change:function(i){return e.handleChangeChild(t)}}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)})),0)]),e.isCheck&&e.roleItem.remark||!e.isCheck?i("div",{staticClass:"add_role_item"},[i("span",[e._v("备注：")]),e.isCheck?i("div",{staticStyle:{width:"400px"}},[e._v(" "+e._s(e.roleItem.remark)+" ")]):i("el-input",{attrs:{type:"text",disabled:e.isDisable},model:{value:e.roleItem.remark,callback:function(t){e.$set(e.roleItem,"remark",t)},expression:"roleItem.remark"}})],1):e._e()]},proxy:!0},{key:"footer",fn:function(){return[i("div",{staticClass:"add_role_submit"},[i("el-button",{on:{click:function(t){return e.handleCloseDialog()}}},[e._v(" 取消 ")]),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit()}}},[e._v(" 确定 ")])],1)]},proxy:!0}])})],1)},s=[],r=i("2909"),n=i("5530"),l=(i("4160"),i("d3b7"),i("159b"),i("fb6a"),i("e9c4"),i("caad"),i("2532"),i("a630"),i("3ca3"),i("6062"),i("ddb0"),i("4795"),i("b0c0"),i("406e")),o=i("5c96"),c=i("2f62"),h=i("0fea"),d=i("c24f"),u=i("510e"),m=i("f306"),_=i("be46"),p=i("8e6c"),f={components:{searchModule:_["a"],Dialog:p["a"]},mixins:[m["a"]],name:"limitManage",data:function(){return{role:"",isCheck:!1,isEdit:!1,isShowDialog:!1,roleItem:{name:"",dept:"",remark:"",userType:""},roleList:[{name:"人像监控",id:0},{name:"报警处置",id:1},{name:"任务布控",id:2}],headerCellStyle:{textAlign:"center"},tableData:[],limitData:[],isDisable:!1,multipleSelection:[],currentPage:1,pageSize:10,total:0,operateArray:[],isPageCheck:!1,currentId:"",tableHeight:0,page:1,deptList:[],parentList:[],childList:[],limitListArray:[],userTypeData:[],userTypeList:{1:"超级管理员",2:"部门管理员",3:"普通用户"},baseData:[],editPermissions:[],editBaseData:[],permission:0,isCheckData:!1,allDatalimit:!0,areaTree:[],controlArea:[],allCameraList:[],controlAreaCheck:[],areaTreeCheck:[],isCascaderDisable:!1,allData:[]}},mounted:function(){var e=this;this.getDevice(),this.getRoles(),this.getDeptList(),this.getPermissions(-1),this.$nextTick((function(){e.tableHeight=e.$refs.tableContent.offsetHeight,Object(l["a"])(e.$refs.tableContent,e.resize)}))},beforeDestroy:function(){Object(l["b"])(this.$refs.tableContent,this.resize)},watch:{limitQuery:function(){this.limitQuery.items.forEach((function(e){e.updated_at=u["a"].formatDateTime(e.updated_at)})),this.pageSize=10,this.currentPage=this.page,this.permission=this.limitQuery.permission,this.limitData=this.limitQuery.items,this.tableData=this.limitData.slice(this.pageSize*(this.currentPage-1),this.pageSize*this.currentPage),this.total=this.limitQuery.count}},computed:Object(n["a"])({},Object(c["b"])(["limitQuery","camerasData"])),methods:{getDevice:function(){var e=this;h["b"].getDevice().then((function(t){if(0===t.error_no&&(e.allData=t.data.items,t.data.items&&t.data.items.length>0)){var i=[];t.data.items.forEach((function(e){var t=!1;i.forEach((function(i){if(i.label===e.terminal){t=!0;var a=!1;i.children.forEach((function(t){t.label===e.area&&(a=!0,t.children.push({value:e.id,label:e.airport_name,id:e.id}))})),a||i.children.push({value:e.area,label:e.area,children:[{value:e.id,label:e.airport_name,id:e.id}]})}})),t||i.push({value:e.terminal,label:e.terminal,children:[{value:e.area,label:e.area,children:[{value:e.id,label:e.airport_name,id:e.id}]}]})})),e.areaTree=i}}))},handleChangeArea:function(e){this.isCheckData=e.length>0&&e.length<this.allData.length,this.allData.length===e.length?this.allDatalimit=!0:this.allDatalimit=!1},handleChangeAll:function(){var e=this;this.isCheckData=!1,0===this.allCameraList.length&&this.allData.forEach((function(t){t.allList=[t.terminal,t.area,t.id],e.allCameraList.push(t.allList)})),this.allDatalimit?this.controlArea=JSON.parse(JSON.stringify(this.allCameraList)):this.controlArea=[]},handleChangeParent:function(e){e.isParentCheck?e.isParentCheck&&(e.children.forEach((function(t){e.childCheckList.includes(t.id)||e.childCheckList.push(t.id)})),e.children.forEach((function(e){e.isChildCheck=!0})),e.isIndeterminate=!1):(e.childCheckList=[],e.children.forEach((function(e){e.isChildCheck=!1})),e.isIndeterminate=!1)},handleChangeChild:function(e){var t=this;e.isChildCheck=!e.isChildCheck,this.limitListArray.forEach((function(i,a){i.children.forEach((function(s){e.id===s.id&&(0!==i.childCheckList.length&&i.childCheckList.length<i.children.length&&(i.isIndeterminate=!0),e.isChildCheck?e.isChildCheck&&i.childCheckList.length===i.children.length&&(t.limitListArray[a].isParentCheck=!0,i.isIndeterminate=!1):0===i.childCheckList.length&&(t.limitListArray[a].isParentCheck=!1,i.isIndeterminate=!1))}))}))},handleCheckRadio:function(e){this.roleItem.userType=e,this.changeLimitData(e)},changeLimitData:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[],s=[],n=[];-2===e?(s=JSON.parse(JSON.stringify(this.editPermissions)),this.editPermissions.forEach((function(e){a.push(e.parent)}))):this.baseData.forEach((function(t){var i;t.id===e&&((i=s).push.apply(i,Object(r["a"])(t.permission_items)),t.permission_items.forEach((function(e){a.push(e.parent)})))})),this.childList=JSON.parse(JSON.stringify(s)),this.parentList=Array.from(new Set(a)),this.parentList.forEach((function(e,i){n[i]={parent:e,isParentCheck:!0,isIndeterminate:!1,childCheckList:[],children:[]},t.childList.forEach((function(t){t.isChildCheck=!0,t.parent===e&&(n[i].children.push(t),n[i].childCheckList.push(t.id))}))})),this.limitListArray=n,i&&(this.limitListArray.forEach((function(e){e.childCheckList=[]})),this.editBaseData=JSON.parse(JSON.stringify(this.limitListArray))),-2===e&&(this.editBaseData.forEach((function(e){t.limitListArray.forEach((function(t){var i;e.parent===t.parent?((i=e.childCheckList).push.apply(i,Object(r["a"])(t.childCheckList)),0!==e.childCheckList.length&&e.childCheckList.length<e.children.length?e.isIndeterminate=!0:0===e.childCheckList.length?(e.isParentCheck=!1,e.isIndeterminate=!1):e.childCheckList.length===e.children.length&&(e.isParentCheck=!0,e.isIndeterminate=!1)):e.parent!==t.parent&&0===e.childCheckList.length&&(e.isParentCheck=!1,e.isIndeterminate=!1);e.children.forEach((function(t){e.childCheckList.includes(t.id)?t.isChildCheck=!0:t.isChildCheck=!1}))}))})),this.limitListArray=JSON.parse(JSON.stringify(this.editBaseData)))},getPermissions:function(e){var t=this;this.userTypeData=[],h["b"].getPermissions().then((function(i){0===i.error_no&&i.data.items&&(t.roleItem.userType=i.data.items[0].id,t.baseData=i.data.items,i.data.items.forEach((function(e){t.userTypeData.push(e.type)})),t.$store.commit("setUserLimitType",t.userTypeData),-1===e?t.changeLimitData(i.data.items[0].id):t.changeLimitData(e))}))},getDeptList:function(){var e=this;h["b"].getDept().then((function(t){0===t.error_no&&t.data.items&&(e.deptList=t.data.items)}))},resize:function(){this.$refs.tableContent&&(this.tableHeight=this.$refs.tableContent.offsetHeight)},getRoles:function(){var e=this;h["b"].getRoles().then((function(t){0===t.error_no&&t.data.items&&(t.data.items.forEach((function(e){e.updated_at=u["a"].formatDateTime(e.updated_at)})),e.currentPage=e.page,e.limitData=t.data.items,e.permission=t.data.permission,e.tableData=e.limitData.slice(e.pageSize*(e.currentPage-1),e.pageSize*e.currentPage),e.total=t.data.count,e.$store.commit("setUserList",t.data.items))}))},resetLimit:function(){var e=this;this.isShowDialog=!1,this.isEdit=!1,setTimeout((function(){e.isCheck=!1}),500),this.roleItem.name="",this.roleItem.dept="",this.roleItem.remark="",this.roleItem.userType="",this.isPageCheck=!1},handleCloseDialog:function(){this.resetLimit()},handleAddData:function(){this.isShowDialog=!0,this.isDisable=!1,this.getPermissions(-1),this.allDatalimit=!0,this.handleChangeAll()},handleSubmit:function(){var e=this,t=[],i=[];if(this.isCheck||(this.limitListArray.forEach((function(e){t.push.apply(t,Object(r["a"])(e.childCheckList))})),""!==this.roleItem.name&&""!==this.roleItem.dept&&0!==t.length)){var a={name:this.roleItem.name,type:this.roleItem.userType,dept_id:this.roleItem.dept,permissions:t,comment:this.roleItem.remark,cameras:i};this.isEdit&&!this.isCheck?(h["b"].changeRoles(this.currentId,a).then((function(t){if(0===t.error_no){e.getRoles(),e.resetLimit(),o["Message"].success({message:"修改成功"});var i=JSON.parse(sessionStorage.getItem("userInfo"));if(i.role.id===e.currentId){var a={id:e.currentId};h["b"].getRoles(a).then((function(t){JSON.stringify(i.role.permissions)!==JSON.stringify(t.data.items[0].permissions)&&setTimeout((function(){d["a"].logout().then((function(t){0===t.error_no&&(o["Message"].warning({message:"当前用户角色权限已更改，请重新登录"}),sessionStorage.clear(),e.$router.push({name:"login"}),e.$store.commit("setPages",[]))}))}),1e3)}))}}})),this.$refs.multipleTable.clearSelection()):this.isEdit||this.isCheck?this.resetLimit():h["b"].addRoles(a).then((function(t){if(0===t.error_no){o["Message"].success({message:"新增成功"});var i={current:e.currentPage,size:e.pageSize,total:e.total};e.page=u["a"].formatPage(i,"add",0,!0),e.getRoles(),e.resetLimit()}}))}else o["Message"].error({message:"请将信息填写完整"})},handleSelectionChange:function(e){this.multipleSelection=e},handleCheckLimit:function(e,t){var i=this,a=[],s=[];if(this.operateArray=[],this.roleItem.name=t.name,this.roleItem.dept=t.dept,this.roleItem.userType=this.userTypeList[t.type],this.roleItem.remark=t.comment,t.permission_items.forEach((function(e){i.operateArray.push(e.name)})),this.isCascaderDisable=!0,t.cameras&&0!==t.cameras.length){t.cameras.forEach((function(e){i.allData.forEach((function(t){t.allList=[t.terminal,t.area,t.id],e===t.id&&(s.push(t),a.push(t.allList))}))}));var r=u["a"].getAreaData(s);this.areaTreeCheck=JSON.parse(JSON.stringify(r)),this.controlAreaCheck=JSON.parse(JSON.stringify(a))}else this.areaTreeCheck=[],this.controlAreaCheck=[];this.isPageCheck=!0,this.isShowDialog=!0,this.isEdit=!0,this.isCheck=!0,this.isDisable=!0},handleChangeData:function(e){var t=this,i=[];this.isPageCheck=!0,this.isDisable=!1,this.isShowDialog=!0,this.isEdit=!0,this.isCheck=!1,this.roleItem.name=e.name,this.roleItem.dept=e.dept.id,this.roleItem.userType=e.type,this.roleItem.remark=e.comment,e.cameras&&0!==e.cameras.length?(e.cameras.forEach((function(e){t.allData.forEach((function(t){t.allList=[t.terminal,t.area,t.id],e===t.id&&i.push(t.allList)}))})),this.controlArea=JSON.parse(JSON.stringify(i)),this.isCheckData=this.controlArea.length>0&&this.controlArea.length<this.allData.length):(this.isCheckData=!1,this.allDatalimit=!1,this.controlArea=[]),this.editPermissions=JSON.parse(JSON.stringify(e.permission_items)),this.changeLimitData(e.type,!0),this.changeLimitData(-2),this.currentId=e.id},handleDeteleData:function(e){var t=this;o["MessageBox"].confirm("确定要删除吗？",{confirmButtonText:"确定",cancelButtonText:"取消",customClass:"reset_password"}).then((function(){h["b"].delRoles(e.id).then((function(e){if(0===e.error_no){o["Message"].success({message:"删除成功"});var i={current:t.currentPage,size:t.pageSize,total:t.total};t.page=u["a"].formatPage(i,"del"),t.getRoles()}}))}))["catch"]((function(){}))},handleDeteleAll:function(){var e=this;this.multipleSelection.length<1?o["Message"].error({message:"请选择一个任务再进行操作"}):o["MessageBox"].confirm("确定要删除吗？",{confirmButtonText:"确定",cancelButtonText:"取消",customClass:"reset_password"}).then((function(){var t=0;e.multipleSelection.forEach((function(i){h["b"].delRoles(i.id).then((function(i){if(0===i.error_no&&(o["Message"].success({message:"删除成功"}),t++,t===e.multipleSelection.length)){var a={current:e.currentPage,size:e.pageSize,total:e.total};e.page=u["a"].formatPage(a,"delAll",e.multipleSelection.length),e.getRoles()}}))}))}))["catch"]((function(){}))},hanleCurrentChange:function(e){0!==this.total&&(this.tableData=this.limitData.slice(this.pageSize*(e-1),this.pageSize*e)),this.currentPage=e},handleSizeChange:function(e){0!==this.total&&(this.tableData=this.limitData.slice(e*(this.currentPage-1),e*this.currentPage)),this.pageSize=e}}},g=f,b=(i("cf85"),i("415c"),i("2877")),C=Object(b["a"])(g,a,s,!1,null,"28c3b5fa",null);t["default"]=C.exports},b8d7:function(e,t,i){},cf85:function(e,t,i){"use strict";i("3e9c")}}]);